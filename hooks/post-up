#!/usr/bin/env bash

secure() {
  local arg

  for arg; do
    if [ -d "$arg" ]; then
      chmod 700 "$arg"
    elif [ -f "$arg" ]; then
      chmod 600 "$arg"
    fi
  done
}

setup_antigen() {
  local ZSH_CONFIG="$HOME/.config/zsh"
  local ANTIGEN="$ZSH_CONFIG/antigen"

  if [ ! -d "$ANTIGEN" ]; then
    mkdir -p "$ZSH_CONFIG"
    git clone https://github.com/zsh-users/antigen "$ANTIGEN"
  else
    git -C "$ANTIGEN" pull
  fi
}

setup_antigen
secure ~/.msmtprc ~/.config/gnupg

[ -d ~/.mutt ] && mkdir -p ~/.mutt/temp

# dot-prefixed files are skipped unless explicitly named
# rcup -K "$HOME"/.config/zsh/{.zprofile,.zshenv,.zshrc}
