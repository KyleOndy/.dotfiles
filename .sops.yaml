---
keys:
  # user keys
  - &kyle 3C799D26057B64E6D907B0ACDB0E3C33491F91C9 # yubikey

  # machine keys
  - &alpha age1w7yw9mttzn5e0ldzrfl8ku422e5ydymr0wy6lp8msxvg8eehlpmq94sw4w
  - &dino age19kztqvck8297mm0v74epu6fq5eny7h84rx2evfvd7cm9uc5unuqqn4lw62
  - &dmz_rp age1jqrzylrz2cyf4dzr47splc4sy75nsz64awwemsdpdqzr9x4eav7qms46v9
  - &tiger age1mcse3suy7qxr7pxn262zw67lrz2wyl8pr6hgqs5x0fk5p0w7qa4s9lnctc
  - &util_dmz age1phk0n3yddcdw82ueukh5qm3jfeqr62gn0qh9nv0x8tafhkg6p4nqzex90x
  - &util_lan age1cdn7466t4cgepfl8jzlee8g8v4qjwjyg4v9pytz3fa4hfk4wy39spwtqde
  - &w1 age1jr9eyy7kp8fykdxuxf6lzqxsjkx04lktnj8hxwz97mndemkpfpusyktw7v
  - &w2 age16x4sm6fpnulgpjj3vwcq6y0d6w0xv5hx8vj2vs6da4rspxlrd3gq2uq5vm
  - &w3 age1ljhkhspsl3rkarrqqawrnec8p7mjr7sjhdd4a8hdzlg3fu8y8vjqcy5g0d

  # command to add a new age key for a new host
  # nix-shell -p ssh-to-age --run "ssh-keyscan $host | ssh-to-age"
  # sops -r updatekeys ./nix/secrets/secrets.yaml
creation_rules:
  - path_regex: nix/secrets/[^/]+\.yaml$
    key_groups:
      - age:
          - *alpha
          - *dino
          - *dmz_rp
          - *tiger
          - *util_dmz
          - *util_lan
          - *w1
          - *w2
          - *w3
        pgp:
          - *kyle
